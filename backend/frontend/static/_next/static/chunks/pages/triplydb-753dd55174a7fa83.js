(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[423],{58953:function(e,r,t){"use strict";var n=t(95318);r.Z=void 0;var o=n(t(64938)),a=t(85893),i=(0,o.default)((0,a.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");r.Z=i},54048:function(e,r,t){"use strict";var n=t(95318);r.Z=void 0;var o=n(t(64938)),a=t(85893),i=(0,o.default)((0,a.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");r.Z=i},53457:function(e,r,t){"use strict";t.d(r,{Z:function(){return x}});var n=t(63366),o=t(87462),a=t(67294),i=t(86010),l=t(94780),s=t(90948),c=t(71657),u=t(34867);function d(e){return(0,u.Z)("MuiFormGroup",e)}(0,t(1588).Z)("MuiFormGroup",["root","row","error"]);var f=t(74423),m=t(15704),h=t(85893);const p=["className","row"],v=(0,s.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.row&&r.row]}})((({ownerState:e})=>(0,o.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})));var x=a.forwardRef((function(e,r){const t=(0,c.Z)({props:e,name:"MuiFormGroup"}),{className:a,row:s=!1}=t,u=(0,n.Z)(t,p),x=(0,f.Z)(),y=(0,m.Z)({props:t,muiFormControl:x,states:["error"]}),b=(0,o.Z)({},t,{row:s,error:y.error}),j=(e=>{const{classes:r,row:t,error:n}=e,o={root:["root",t&&"row",n&&"error"]};return(0,l.Z)(o,d,r)})(b);return(0,h.jsx)(v,(0,o.Z)({className:(0,i.Z)(j.root,a),ownerState:b,ref:r},u))}))},65362:function(e,r,t){"use strict";t.d(r,{u:function(){return d}});var n=t(87462),o=t(63366),a=t(67294),i=t(93946),l=t(18972),s=t(48885),c=t(85893);const u=["label","icon","showInMenu","onClick"],d=a.forwardRef(((e,r)=>{const{label:t,icon:d,showInMenu:f,onClick:m}=e,h=(0,o.Z)(e,u),p=e=>{m&&m(e)};return f?(0,c.jsxs)(l.Z,(0,n.Z)({ref:r},h,{onClick:m,children:[d&&(0,c.jsx)(s.Z,{children:d}),t]})):(0,c.jsx)(i.Z,(0,n.Z)({ref:r,size:"small",role:"menuitem","aria-label":t},h,{onClick:p,children:a.cloneElement(d,{fontSize:"small"})}))}))},74295:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/triplydb",function(){return t(41300)}])},3430:function(e,r,t){"use strict";t.d(r,{F:function(){return s}});var n=t(85893),o=t(99964),a=t(66242),i=t(78445),l=t(44267),s=(t(67294),function(e){var r=e.open,t=e.onClose,s=e.title,c=e.header,u=e.children;return(0,n.jsx)(o.Z,{open:r,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsxs)(a.Z,{sx:{width:600,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"100%",display:"flex",flexDirection:"column"},children:[c||(0,n.jsx)(i.Z,{title:s}),(0,n.jsx)(l.Z,{sx:{overflow:"auto",flex:1},children:u})]})})})},87177:function(e,r,t){"use strict";var n=t(73400),o=t(67294);function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.Z=function(){var e=i(o.useState({message:void 0,variant:"default"}),2),r=e[0],t=e[1],a=(0,n.Ds)().enqueueSnackbar;return o.useEffect((function(){if(null===r||void 0===r?void 0:r.message){var e="info";r.variant&&(e=r.variant),a(r.message,{variant:e,autoHideDuration:5e3})}}),[r]),{notification:r,sendNotification:t}}},41300:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return xe}});var n=t(85893),o=t(9008),a=t.n(o),i=t(99226),l=t(53156),s=t(66242),c=t(78445),u=t(44267),d=t(76992),f=t(81458),m=t(27484),h=t.n(m),p=t(41664),v=t.n(p),x=t(67294),y=t(58953),b=t(65362),j=t(26615),w=t(27798),g=t(25778),Z=t(3430),S=t(34051),_=t.n(S),P=t(9669),O=t.n(P),C=t(88767);function A(e,r,t,n,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void t(c)}l.done?r(s):Promise.resolve(s).then(n,o)}function D(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){D(e,r,t[r])}))}return e}var N=function(e,r){return(0,C.useQuery)(["tdb-datasets",e,r],(t=_().mark((function t(){var n,o;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?{q:e}:{},t.next=3,O().get("https://api.triplydb.com/datasets",{params:k({},n,{limit:r})});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){A(a,n,o,i,l,"next",e)}function l(e){A(a,n,o,i,l,"throw",e)}i(void 0)}))}));var t},I=t(93902),M=t(86886),T=t(50122),F=t(15861),L=t(61903),E=t(94054),q=t(40476),z=t(53457),R=t(50480),G=t(69368),B=t(97212),V=t(59334),W=t(47312),U=t(85945),H=t(18972),Q=t(83321),X=t(24358),Y=t(98456),$=t(54048),K=t(82580),J=t(87177),ee=t(74231),re=t(62400),te=t(17224);function ne(e,r,t,n,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void t(c)}l.done?r(s):Promise.resolve(s).then(n,o)}function oe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ae(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){oe(e,r,t[r])}))}return e}var ie,le,se=function(e){var r,t=(0,x.useState)(!1),o=t[0],a=t[1],i=(0,J.Z)().sendNotification,l=e.dataset,s=e.onComplete,c="https://triplydb.com/".concat(l.owner.accountName,"/").concat(l.name),u="".concat(c,"/download.ttl.gz"),d="https://api.triplydb.com/datasets/".concat(l.owner.accountName,"/").concat(l.name),f="".concat(d,"/services/").concat(l.name,"/sparql"),m=ee.Ry({});console.log(l);var h=(0,K.TA)({initialValues:{name:l.displayName,description:null!==(r=l.description)&&void 0!==r?r:"",use_sparql:!1,search_mode:"LOCAL"},validationSchema:m,onSubmit:function(){var e,r=(e=_().mark((function e(r){var t,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,t=r.use_sparql?{source_type:"sparql",sparql:f}:{source_type:"urls",urls:[u]},e.next=5,re.x1.post("/datasets/",{name:r.name,description:r.description,mode:"sparql"===t.source_type?"SPARQL":"LOCAL",search_mode:r.search_mode,source:ae({tdb_id:"".concat(l.owner.accountName,"/").concat(l.name)},t)});case 5:(n=e.sent)&&(201===n.status?(console.log(n.data),i({message:"TriplyDB dataset scheduled for import",variant:"success"}),s(!0)):i({message:"Error creating dataset",variant:"error"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:a(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function i(e){ne(a,n,o,i,l,"next",e)}function l(e){ne(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()});return x.useEffect((function(){h.resetForm()}),[l]),(0,n.jsxs)("form",{onSubmit:h.handleSubmit,children:[(0,n.jsxs)(M.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(M.ZP,{item:!0,xs:12,children:(0,n.jsx)(T.Z,{href:c,target:"_blank",children:(0,n.jsxs)(F.Z,{variant:"body2",children:["Open on TripleDB ",(0,n.jsx)($.Z,{fontSize:"small"})]})})}),(0,n.jsx)(M.ZP,{item:!0,xs:12,children:(0,n.jsx)(L.Z,ae({label:"Name",variant:"outlined",fullWidth:!0},(0,te.s)(h,"name")))}),(0,n.jsx)(M.ZP,{item:!0,xs:12,children:(0,n.jsx)(L.Z,ae({maxRows:4,label:"Description",variant:"outlined",multiline:!0,fullWidth:!0},(0,te.s)(h,"description")))}),(0,n.jsx)(M.ZP,{item:!0,xs:12,children:(0,n.jsxs)(E.Z,{component:"fieldset",variant:"standard",children:[(0,n.jsx)(q.Z,{component:"legend",children:"Downloads"}),(0,n.jsx)(z.Z,{children:(0,n.jsx)(R.Z,{control:(0,n.jsx)(G.Z,{checked:!h.values.use_sparql,value:!h.values.use_sparql,onChange:function(e){return h.setFieldValue("use_sparql",!e.target.checked)}}),label:(0,n.jsx)(B.ZP,{alignItems:"flex-start",children:(0,n.jsx)(V.Z,{primary:(0,n.jsxs)(T.Z,{href:u,target:"_blank",children:["download.ttl.gz ",(0,n.jsx)($.Z,{fontSize:"small"})]})})})})})]})}),(0,n.jsx)(M.ZP,{item:!0,xs:12,children:(0,n.jsxs)(E.Z,{component:"fieldset",variant:"standard",children:[(0,n.jsx)(q.Z,{component:"legend",children:"SPARQL Endpoints"}),(0,n.jsx)(z.Z,{children:(0,n.jsx)(R.Z,{control:(0,n.jsx)(G.Z,{checked:h.values.use_sparql,value:h.values.use_sparql,onChange:function(e){h.setFieldValue("use_sparql",e.target.checked),e.target.checked&&h.setFieldValue("search_mode","TRIPLYDB")}}),label:(0,n.jsx)(B.ZP,{alignItems:"flex-start",children:(0,n.jsx)(V.Z,{primary:(0,n.jsxs)(T.Z,{href:f,target:"_blank",children:["SPAQRQL Service ",(0,n.jsx)($.Z,{fontSize:"small"})]})})})})})]})}),(0,n.jsx)(M.ZP,{item:!0,xs:12,children:(0,n.jsxs)(E.Z,{fullWidth:!0,children:[(0,n.jsx)(W.Z,{id:"search_mode_label",children:"Search Mode"}),(0,n.jsxs)(U.Z,ae({labelId:"search_mode_label",label:"Search Mode"},(0,te.s)(h,"search_mode"),{children:[(0,n.jsx)(H.Z,{value:"LOCAL",children:"Build Local Search Index"}),(0,n.jsx)(H.Z,{value:"WIKIDATA",children:"Use WikiData API"}),(0,n.jsx)(H.Z,{value:"TRIPLYDB",children:"Use TriplyDB API"})]}))]})}),(0,n.jsx)(M.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)(Q.Z,{variant:"contained",type:"submit",children:"Submit"})})]}),(0,n.jsx)(X.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:o,children:(0,n.jsx)(Y.Z,{color:"inherit"})})]})};function ce(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ue(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function de(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||me(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,r){if(e){if("string"===typeof e)return ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ce(e,r):void 0}}var he=[{field:"id",headerName:"ID",flex:.5,valueFormatter:function(e){return(0,I.UN)(e.value)}},{field:"displayName",headerName:"Title",flex:1,minWidth:200,renderCell:function(e){return(0,n.jsx)(v(),{href:"https://triplydb.com/".concat(encodeURIComponent(e.row.owner.accountName),"/").concat(encodeURIComponent(e.row.name)),target:"_blank",children:e.value})}},{field:"description",headerName:"Description",flex:1,renderCell:function(e){return(0,n.jsx)(g.j,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){ue(e,r,t[r])}))}return e}({},e,{value:null!==(ie=e.value)&&void 0!==ie?ie:"",maxLength:80}))}},{field:"statements",headerName:"Triples",flex:.5,type:"number"},{field:"license",headerName:"License",flex:.5},{field:"owner",headerName:"Owner",flex:.5,minWidth:200,valueGetter:function(e){return null!==(le=e.row.owner.name)&&void 0!==le?le:e.row.owner.accountName}},{field:"createdAt",headerName:"Created At",flex:.5,type:"dateTime",minWidth:200,valueFormatter:function(e){return(0,I.o0)(e.value)}},{field:"updatedAt",headerName:"Updated At",flex:.5,type:"dateTime",minWidth:200,valueFormatter:function(e){return h()(e.value).fromNow()}}],pe=function(e){var r=(0,x.useState)(""),t=r[0],o=r[1],a=(0,x.useState)(20),l=a[0],s=a[1],c=de(x.useState({items:[]}),2),u=c[0],d=c[1],m=de(x.useState(null),2),h=m[0],p=m[1];(0,x.useEffect)((function(){var e,r;o(null!==(r=null===u||void 0===u||null===(e=u.quickFilterValues)||void 0===e?void 0:e.join(" "))&&void 0!==r?r:"")}),[u]);var v=N(t,l),g=v.data,S=v.isFetching,_=v.isLoading;console.log(g);var P,O=fe(he).concat([{field:"actions",type:"actions",getActions:function(e){return[(0,n.jsx)(b.u,{icon:(0,n.jsx)(y.Z,{}),onClick:function(){return r=e.row,void p(r);var r},label:"Import"})]}}]);return(0,n.jsxs)(i.Z,{sx:{width:"100%",height:600},children:[(0,n.jsx)(j._,{components:{Toolbar:w.n,LoadingOverlay:f.Z},rowCount:null!==(P=null===g||void 0===g?void 0:g.length)&&void 0!==P?P:0,paginationMode:"server",pageSize:l,onPageSizeChange:s,rowsPerPageOptions:[20,50,100],rows:g||[],loading:S||_,columns:O,getRowHeight:function(){return"auto"},getEstimatedRowHeight:function(){return 100},filterMode:"server",onFilterModelChange:d,initialState:{columns:{columnVisibilityModel:{n_downloads_available:!1,n_downloads_kg:!1,n_downloads_maybekg:!1}}},componentsProps:{toolbar:{showQuickFilter:!0,quickFilterProps:{debounceMs:500}}},sx:{"&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell":{py:1,overflow:"hidden"},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{py:"15px",overflow:"hidden"},"&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell":{py:"22px",overflow:"hidden"}}}),(0,n.jsx)(Z.F,{title:"Import TriplyDB Dataset",open:!!h,onClose:function(){return p(null)},children:(0,n.jsx)(se,{dataset:h,onComplete:function(){return p(null)}})})]})},ve=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"BOLD Triply DB datasets"})}),(0,n.jsx)(i.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,n.jsx)(l.Z,{maxWidth:!1,children:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(c.Z,{title:"Triply DB Datasets"}),(0,n.jsx)(u.Z,{children:(0,n.jsx)(pe,{})})]})})})]})};ve.getLayout=function(e){return(0,n.jsx)(d.A,{showNavbar:!1,children:e})};var xe=ve},17224:function(e,r,t){"use strict";t.d(r,{s:function(){return n}});var n=function(e,r){return{name:r,value:e.values[r],onChange:e.handleChange,error:e.touched[r]&&Boolean(e.errors[r]),helperText:e.touched[r]&&e.errors[r]}}}},function(e){e.O(0,[502,811,267,25,648,774,888,179],(function(){return r=74295,e(e.s=r);var r}));var r=e.O();_N_E=r}]);