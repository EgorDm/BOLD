(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{58953:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var o=n(r(64938)),i=r(85893),a=(0,o.default)((0,i.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");t.Z=a},54048:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var o=n(r(64938)),i=r(85893),a=(0,o.default)((0,i.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");t.Z=a},59748:function(e,t,r){"use strict";var n=r(95318);t.Z=void 0;var o=n(r(64938)),i=r(85893),a=(0,o.default)([(0,i.jsx)("path",{d:"M12 5.99 19.53 19H4.47L12 5.99M12 2 1 21h22L12 2z"},"0"),(0,i.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber");t.Z=a},53457:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(63366),o=r(87462),i=r(67294),a=r(86010),l=r(94780),s=r(90948),u=r(71657),c=r(34867);function d(e){return(0,c.Z)("MuiFormGroup",e)}(0,r(1588).Z)("MuiFormGroup",["root","row","error"]);var f=r(74423),m=r(15704),p=r(85893);const h=["className","row"],v=(0,s.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})((({ownerState:e})=>(0,o.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})));var y=i.forwardRef((function(e,t){const r=(0,u.Z)({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1}=r,c=(0,n.Z)(r,h),y=(0,f.Z)(),b=(0,m.Z)({props:r,muiFormControl:y,states:["error"]}),x=(0,o.Z)({},r,{row:s,error:b.error}),w=(e=>{const{classes:t,row:r,error:n}=e,o={root:["root",r&&"row",n&&"error"]};return(0,l.Z)(o,d,t)})(x);return(0,p.jsx)(v,(0,o.Z)({className:(0,a.Z)(w.root,i),ownerState:x,ref:t},c))}))},65362:function(e,t,r){"use strict";r.d(t,{u:function(){return d}});var n=r(87462),o=r(63366),i=r(67294),a=r(93946),l=r(18972),s=r(48885),u=r(85893);const c=["label","icon","showInMenu","onClick"],d=i.forwardRef(((e,t)=>{const{label:r,icon:d,showInMenu:f,onClick:m}=e,p=(0,o.Z)(e,c),h=e=>{m&&m(e)};return f?(0,u.jsxs)(l.Z,(0,n.Z)({ref:t},p,{onClick:m,children:[d&&(0,u.jsx)(s.Z,{children:d}),r]})):(0,u.jsx)(a.Z,(0,n.Z)({ref:t,size:"small",role:"menuitem","aria-label":r},p,{onClick:h,children:i.cloneElement(d,{fontSize:"small"})}))}))},66343:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lodc",function(){return r(67993)}])},87177:function(e,t,r){"use strict";var n=r(73400),o=r(67294);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(){var e=a(o.useState({message:void 0,variant:"default"}),2),t=e[0],r=e[1],i=(0,n.Ds)().enqueueSnackbar;return o.useEffect((function(){if(null===t||void 0===t?void 0:t.message){var e="info";t.variant&&(e=t.variant),i(t.message,{variant:e,autoHideDuration:5e3})}}),[t]),{notification:t,sendNotification:r}}},67993:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ue}});var n=r(85893),o=r(9008),i=r.n(o),a=r(99226),l=r(53156),s=r(66242),u=r(78445),c=r(44267),d=r(76992),f=r(81458),m=r(99964),p=r(67294),h=r(88767),v=r(25778),y=r(34051),b=r.n(y),x=r(62400);function w(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(u){return void r(u)}l.done?t(s):Promise.resolve(s).then(n,o)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){j(e,t,r[t])}))}return e}var Z=function(){var e,t=(e=b().mark((function e(){var t,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.x1.get("lodc/datasets");case 2:return t=e.sent,r=Object.values(t.data).map((function(e){return g({id:e._id},e)})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){w(i,n,o,a,l,"next",e)}function l(e){w(i,n,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),S=r(58953),_=r(65362),k=r(26615),O=r(27798),C=r(41664),A=r.n(C),N=r(94054),M=r(40476),D=r(53457),P=r(50480),I=r(69368),G=r(97212),E=r(59334),z=r(50122),L=r(15861),F=r(86886),T=r(61903),R=r(83321),V=r(24358),q=r(98456),H=r(54048),W=r(82580),K=r(87177),Q=r(74231),U=r(59748);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(u){return void r(u)}l.done?t(s):Promise.resolve(s).then(n,o)}function X(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var J,Y=function(e){var t=e.formik,r=e.fieldName,o=e.title,i=e.emptyMessage,a=e.options,l=e.restrictKG,s=void 0===l||l,u=(0,p.useCallback)((function(e,n){e.target.checked?t.setFieldValue(r,X(t.values[r]).concat([n])):t.setFieldValue(r,t.values[r].filter((function(e){return e!==n})))}),[t,r]);return(0,n.jsxs)(N.Z,{component:"fieldset",variant:"standard",children:[(0,n.jsx)(M.Z,{component:"legend",children:o}),(0,n.jsxs)(D.Z,{children:[a.map((function(e,o){return(0,n.jsx)(P.Z,{control:(0,n.jsx)(I.Z,{checked:t.values[r].includes(e.url),onChange:function(t){return u(t,e.url)},disabled:!e.available||s&&"NO"==e.detect_kg}),label:(0,n.jsx)(G.ZP,{alignItems:"flex-start",children:(0,n.jsx)(E.Z,{primary:(0,n.jsxs)(z.Z,{href:e.url,target:"_blank",children:[e.title," ",(0,n.jsx)(H.Z,{fontSize:"small"})," ",!e.available&&(0,n.jsx)(U.Z,{fontSize:"small"})]}),secondary:e.description})})},o)})),0===a.length&&(0,n.jsx)(L.Z,{variant:"body2",children:i})]})]})},ee=function(e){var t,r=(0,p.useState)(!1),o=r[0],i=r[1],a=(0,K.Z)().sendNotification,l=e.dataset,s=e.onComplete,u=Q.Ry({});console.log(l);var c=(0,W.TA)({initialValues:{name:l.title,description:(null===(t=l.description)||void 0===t?void 0:t.en)||"",files:[],sparql:[]},validationSchema:u,onSubmit:function(){var e,t=(e=b().mark((function e(t){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,r=null,e.next=5,x.x1.post("/datasets/",{name:t.name,description:t.description,source:{source_type:"lodc",lodc_id:l.identifier,urls:t.files,sparql:t.sparql}});case 5:(r=e.sent)&&(201===r.status?(console.log(r.data),a({message:"LODC dataset scheduled for import",variant:"success"}),s(!0)):a({message:"Error creating dataset",variant:"error"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:i(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){$(i,n,o,a,l,"next",e)}function l(e){$(i,n,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()});return p.useEffect((function(){c.resetForm()}),[l]),(0,n.jsxs)("form",{onSubmit:c.handleSubmit,children:[(0,n.jsxs)(F.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(F.ZP,{item:!0,xs:12,children:(0,n.jsx)(z.Z,{href:"https://lod-cloud.net/dataset/".concat(l.identifier),target:"_blank",children:(0,n.jsxs)(L.Z,{variant:"body2",children:["Open on Linked Open Data Cloud ",(0,n.jsx)(H.Z,{fontSize:"small"})]})})}),(0,n.jsx)(F.ZP,{item:!0,xs:12,children:(0,n.jsx)(T.Z,{name:"name",label:"Name",variant:"outlined",fullWidth:!0,value:c.values.name,onChange:c.handleChange,error:c.touched.name&&Boolean(c.errors.name),helperText:c.touched.name&&c.errors.name})}),(0,n.jsx)(F.ZP,{item:!0,xs:12,children:(0,n.jsx)(T.Z,{maxRows:4,name:"description",label:"Description",variant:"outlined",multiline:!0,fullWidth:!0,value:c.values.description,onChange:c.handleChange,error:c.touched.description&&Boolean(c.errors.description),helperText:c.touched.description&&c.errors.description})}),(0,n.jsx)(F.ZP,{item:!0,xs:12,children:(0,n.jsx)(Y,{formik:c,fieldName:"files",title:"Full download",emptyMessage:"No full downloads available",options:l.full_download})}),(0,n.jsx)(F.ZP,{item:!0,xs:12,children:(0,n.jsx)(Y,{formik:c,fieldName:"files",title:"Other download",emptyMessage:"No other downloads available",options:l.other_download})}),(0,n.jsx)(F.ZP,{item:!0,xs:12,children:(0,n.jsx)(Y,{formik:c,fieldName:"sparql",title:"SPARQL endpoint",emptyMessage:"No SPARQL endpoints available",restrictKG:!1,options:l.sparql})}),(0,n.jsx)(F.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)(R.Z,{variant:"contained",type:"submit",children:"Submit"})})]}),(0,n.jsx)(V.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:o,children:(0,n.jsx)(q.Z,{color:"inherit"})})]})};function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"===typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(e,t):void 0}}var ae=[{field:"identifier",headerName:"ID",flex:.5},{field:"title",headerName:"Title",flex:1,minWidth:200,renderCell:function(e){return(0,n.jsx)(A(),{href:"https://lod-cloud.net/dataset/".concat(encodeURIComponent(e.row.identifier)),target:"_blank",children:e.value})}},{field:"description",headerName:"Description",flex:1,valueGetter:function(e){return null!==(J=e.row.description.en)&&void 0!==J?J:""},renderCell:function(e){return(0,n.jsx)(v.j,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){re(e,t,r[t])}))}return e}({},e,{maxLength:80}))}},{field:"domain",headerName:"Domain",flex:.5},{field:"website",headerName:"Website",flex:.5},{field:"triples",headerName:"Triples",flex:.5,type:"number",valueGetter:function(e){return e.row.triples?e.row.triples.toString().replaceAll(/[.,]/g,""):null}},{field:"n_downloads_available",headerName:"Downloads Available",type:"number"},{field:"n_downloads_kg",headerName:"Downloads KG",type:"number"},{field:"n_downloads_maybekg",headerName:"Downloads Maybe KG",type:"number"},{field:"n_kg_available",headerName:"KG Available",type:"number",width:180}],le=function(e){var t=(0,h.useQuery)("lodc-datasets",Z).data,r=ne(p.useState(null),2),o=r[0],i=r[1],l=oe(ae).concat([{field:"actions",type:"actions",getActions:function(e){return[(0,n.jsx)(_.u,{icon:(0,n.jsx)(S.Z,{}),onClick:function(){return t=e.row,void i(t);var t},label:"Import"})]}}]);return(0,n.jsxs)(a.Z,{sx:{width:"100%",height:600},children:[(0,n.jsx)(k._,{components:{Toolbar:O.n,LoadingOverlay:f.Z},rows:t||[],loading:!t,columns:l,getRowHeight:function(){return"auto"},getEstimatedRowHeight:function(){return 100},initialState:{filter:{filterModel:{items:[{columnField:"n_kg_available",operatorValue:">",value:"0"}]}},columns:{columnVisibilityModel:{n_downloads_available:!1,n_downloads_kg:!1,n_downloads_maybekg:!1}}},componentsProps:{toolbar:{showQuickFilter:!0,quickFilterProps:{debounceMs:500}}},sx:{"&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell":{py:1,overflow:"hidden"},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{py:"15px",overflow:"hidden"},"&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell":{py:"22px",overflow:"hidden"}}}),(0,n.jsx)(m.Z,{open:null!==o,onClose:function(){return i(null)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsxs)(s.Z,{sx:{width:600,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"100%",display:"flex",flexDirection:"column"},children:[(0,n.jsx)(u.Z,{title:"Import LODC Dataset"}),(0,n.jsx)(c.Z,{sx:{overflow:"auto",flex:1},children:(0,n.jsx)(ee,{dataset:o,onComplete:function(e){i(null)}})})]})})]})},se=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"BOLD LODC datasets"})}),(0,n.jsx)(a.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,n.jsx)(l.Z,{maxWidth:!1,children:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(u.Z,{title:"Linked Open Data Cloud Datasets"}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(le,{})})]})})})]})};se.getLayout=function(e){return(0,n.jsx)(d.A,{showNavbar:!1,children:e})};var ue=se}},function(e){e.O(0,[502,811,267,25,648,774,888,179],(function(){return t=66343,e(e.s=t);var t}));var t=e.O();_N_E=t}]);