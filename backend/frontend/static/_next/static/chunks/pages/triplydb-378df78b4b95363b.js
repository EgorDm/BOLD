(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[423],{58953:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var o=r(n(64938)),a=n(85893),i=(0,o.default)((0,a.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");t.Z=i},54048:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var o=r(n(64938)),a=n(85893),i=(0,o.default)((0,a.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");t.Z=i},53457:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(63366),o=n(87462),a=n(67294),i=n(86010),l=n(94780),u=n(90948),c=n(71657),s=n(34867);function d(e){return(0,s.Z)("MuiFormGroup",e)}(0,n(1588).Z)("MuiFormGroup",["root","row","error"]);var f=n(74423),m=n(15704),h=n(85893);const p=["className","row"],v=(0,u.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((({ownerState:e})=>(0,o.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})));var x=a.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiFormGroup"}),{className:a,row:u=!1}=n,s=(0,r.Z)(n,p),x=(0,f.Z)(),y=(0,m.Z)({props:n,muiFormControl:x,states:["error"]}),b=(0,o.Z)({},n,{row:u,error:y.error}),w=(e=>{const{classes:t,row:n,error:r}=e,o={root:["root",n&&"row",r&&"error"]};return(0,l.Z)(o,d,t)})(b);return(0,h.jsx)(v,(0,o.Z)({className:(0,i.Z)(w.root,a),ownerState:b,ref:t},s))}))},65362:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var r=n(87462),o=n(63366),a=n(67294),i=n(93946),l=n(18972),u=n(48885),c=n(85893);const s=["label","icon","showInMenu","onClick"],d=a.forwardRef(((e,t)=>{const{label:n,icon:d,showInMenu:f,onClick:m}=e,h=(0,o.Z)(e,s),p=e=>{m&&m(e)};return f?(0,c.jsxs)(l.Z,(0,r.Z)({ref:t},h,{onClick:m,children:[d&&(0,c.jsx)(u.Z,{children:d}),n]})):(0,c.jsx)(i.Z,(0,r.Z)({ref:t,size:"small",role:"menuitem","aria-label":n},h,{onClick:p,children:a.cloneElement(d,{fontSize:"small"})}))}))},74295:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/triplydb",function(){return n(41300)}])},16775:function(e,t,n){"use strict";n.d(t,{Y:function(){return u}});var r=n(85893),o=n(99964),a=n(66242),i=n(78445),l=n(44267),u=(n(67294),function(e){var t=e.open,n=e.onClose,u=e.title,c=e.header,s=e.children;return(0,r.jsx)(o.Z,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(a.Z,{sx:{width:600,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"100%",display:"flex",flexDirection:"column"},children:[c||(0,r.jsx)(i.Z,{title:u}),(0,r.jsx)(l.Z,{sx:{overflow:"auto",flex:1},children:s})]})})})},87177:function(e,t,n){"use strict";var r=n(73400),o=n(67294);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(){var e=i(o.useState({message:void 0,variant:"default"}),2),t=e[0],n=e[1],a=(0,r.Ds)().enqueueSnackbar;return o.useEffect((function(){if(null===t||void 0===t?void 0:t.message){var e="info";t.variant&&(e=t.variant),a(t.message,{variant:e,autoHideDuration:5e3})}}),[t]),{notification:t,sendNotification:n}}},41300:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return de}});var r=n(85893),o=n(9008),a=n.n(o),i=n(99226),l=n(53156),u=n(66242),c=n(78445),s=n(44267),d=n(76992),f=n(81458),m=n(27484),h=n.n(m),p=n(41664),v=n.n(p),x=n(67294),y=n(58953),b=n(65362),w=n(25530),j=n(27798),g=n(25778),Z=n(16775),S=n(34051),C=n.n(S),N=n(9669),O=n.n(N),P=n(88767);function D(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(c){return void n(c)}l.done?t(u):Promise.resolve(u).then(r,o)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}var M=function(e,t){return(0,P.useQuery)(["tdb-datasets",e,t],(n=C().mark((function n(){var r,o;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e?{q:e}:{},n.next=3,O().get("https://api.triplydb.com/datasets",{params:_({},r,{limit:t})});case 3:return o=n.sent,n.abrupt("return",o.data);case 5:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){D(a,r,o,i,l,"next",e)}function l(e){D(a,r,o,i,l,"throw",e)}i(void 0)}))}));var n},A=n(93902),I=n(86886),T=n(50122),E=n(15861),F=n(61903),z=n(94054),G=n(40476),R=n(53457),B=n(50480),V=n(69368),W=n(97212),L=n(59334),H=n(83321),U=n(24358),q=n(98456),Q=n(54048),X=n(82580),Y=n(87177),$=n(74231),J=n(62400);function K(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(c){return void n(c)}l.done?t(u):Promise.resolve(u).then(r,o)}var ee,te,ne=function(e){var t,n=(0,x.useState)(!1),o=n[0],a=n[1],i=(0,Y.Z)().sendNotification,l=e.dataset,u=e.onComplete,c="https://triplydb.com/".concat(l.owner.accountName,"/").concat(l.name),s="".concat(c,"/download.ttl.gz"),d=$.Ry({});console.log(l);var f=(0,X.TA)({initialValues:{name:l.displayName,description:null!==(t=l.description)&&void 0!==t?t:""},validationSchema:d,onSubmit:function(){var e,t=(e=C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,J.x1.post("/datasets/",{name:t.name,description:t.description,source:{source_type:"tdb",tdb_id:"".concat(l.owner.accountName,"/").concat(l.name),urls:[s]}});case 4:(n=e.sent)&&(201===n.status?(console.log(n.data),i({message:"TriplyDB dataset scheduled for import",variant:"success"}),u(!0)):i({message:"Error creating dataset",variant:"error"})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:a(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){K(a,r,o,i,l,"next",e)}function l(e){K(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()});return x.useEffect((function(){f.resetForm()}),[l]),(0,r.jsxs)("form",{onSubmit:f.handleSubmit,children:[(0,r.jsxs)(I.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(I.ZP,{item:!0,xs:12,children:(0,r.jsx)(T.Z,{href:c,target:"_blank",children:(0,r.jsxs)(E.Z,{variant:"body2",children:["Open on TripleDB ",(0,r.jsx)(Q.Z,{fontSize:"small"})]})})}),(0,r.jsx)(I.ZP,{item:!0,xs:12,children:(0,r.jsx)(F.Z,{name:"name",label:"Name",variant:"outlined",fullWidth:!0,value:f.values.name,onChange:f.handleChange,error:f.touched.name&&Boolean(f.errors.name),helperText:f.touched.name&&f.errors.name})}),(0,r.jsx)(I.ZP,{item:!0,xs:12,children:(0,r.jsx)(F.Z,{maxRows:4,name:"description",label:"Description",variant:"outlined",multiline:!0,fullWidth:!0,value:f.values.description,onChange:f.handleChange,error:f.touched.description&&Boolean(f.errors.description),helperText:f.touched.description&&f.errors.description})}),(0,r.jsx)(I.ZP,{item:!0,xs:12,children:(0,r.jsxs)(z.Z,{component:"fieldset",variant:"standard",children:[(0,r.jsx)(G.Z,{component:"legend",children:"Downloads"}),(0,r.jsx)(R.Z,{children:(0,r.jsx)(B.Z,{control:(0,r.jsx)(V.Z,{checked:!0}),label:(0,r.jsx)(W.ZP,{alignItems:"flex-start",children:(0,r.jsx)(L.Z,{primary:(0,r.jsxs)(T.Z,{href:s,target:"_blank",children:["download.ttl.gz ",(0,r.jsx)(Q.Z,{fontSize:"small"})]})})})})})]})}),(0,r.jsx)(I.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,r.jsx)(H.Z,{variant:"contained",type:"submit",children:"Submit"})})]}),(0,r.jsx)(U.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:o,children:(0,r.jsx)(q.Z,{color:"inherit"})})]})};function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}var ue=[{field:"id",headerName:"ID",flex:.5,valueFormatter:function(e){return(0,A.UN)(e.value)}},{field:"displayName",headerName:"Title",flex:1,minWidth:200,renderCell:function(e){return(0,r.jsx)(v(),{href:"https://triplydb.com/".concat(encodeURIComponent(e.row.owner.accountName),"/").concat(encodeURIComponent(e.row.name)),target:"_blank",children:e.value})}},{field:"description",headerName:"Description",flex:1,renderCell:function(e){return(0,r.jsx)(g.j,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){oe(e,t,n[t])}))}return e}({},e,{value:null!==(ee=e.value)&&void 0!==ee?ee:"",maxLength:80}))}},{field:"statements",headerName:"Triples",flex:.5,type:"number"},{field:"license",headerName:"License",flex:.5},{field:"owner",headerName:"Owner",flex:.5,minWidth:200,valueGetter:function(e){return null!==(te=e.row.owner.name)&&void 0!==te?te:e.row.owner.accountName}},{field:"createdAt",headerName:"Created At",flex:.5,type:"dateTime",minWidth:200,valueFormatter:function(e){return(0,A.o0)(e.value)}},{field:"updatedAt",headerName:"Updated At",flex:.5,type:"dateTime",minWidth:200,valueFormatter:function(e){return h()(e.value).fromNow()}}],ce=function(e){var t=(0,x.useState)(""),n=t[0],o=t[1],a=(0,x.useState)(20),l=a[0],u=a[1],c=ae(x.useState({items:[]}),2),s=c[0],d=c[1],m=ae(x.useState(null),2),h=m[0],p=m[1];(0,x.useEffect)((function(){var e,t;o(null!==(t=null===s||void 0===s||null===(e=s.quickFilterValues)||void 0===e?void 0:e.join(" "))&&void 0!==t?t:"")}),[s]);var v=M(n,l),g=v.data,S=v.isFetching,C=v.isLoading;console.log(g);var N,O=ie(ue).concat([{field:"actions",type:"actions",getActions:function(e){return[(0,r.jsx)(b.u,{icon:(0,r.jsx)(y.Z,{}),onClick:function(){return t=e.row,void p(t);var t},label:"Import"})]}}]);return(0,r.jsxs)(i.Z,{sx:{width:"100%",height:600},children:[(0,r.jsx)(w._,{components:{Toolbar:j.n,LoadingOverlay:f.Z},rowCount:null!==(N=null===g||void 0===g?void 0:g.length)&&void 0!==N?N:0,paginationMode:"server",pageSize:l,onPageSizeChange:u,rowsPerPageOptions:[20,50,100],rows:g||[],loading:S||C,columns:O,getRowHeight:function(){return"auto"},getEstimatedRowHeight:function(){return 100},filterMode:"server",onFilterModelChange:d,initialState:{columns:{columnVisibilityModel:{n_downloads_available:!1,n_downloads_kg:!1,n_downloads_maybekg:!1}}},componentsProps:{toolbar:{showQuickFilter:!0,quickFilterProps:{debounceMs:500}}},sx:{"&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell":{py:1,overflow:"hidden"},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{py:"15px",overflow:"hidden"},"&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell":{py:"22px",overflow:"hidden"}}}),(0,r.jsx)(Z.Y,{title:"Import TriplyDB Dataset",open:!!h,onClose:function(){return p(null)},children:(0,r.jsx)(ne,{dataset:h,onComplete:function(){return p(null)}})})]})},se=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"BOLD Triply DB datasets"})}),(0,r.jsx)(i.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,r.jsx)(l.Z,{maxWidth:!1,children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(c.Z,{title:"Triply DB Datasets"}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(ce,{})})]})})})]})};se.getLayout=function(e){return(0,r.jsx)(d.A,{showNavbar:!1,children:e})};var de=se}},function(e){e.O(0,[502,83,392,732,551,648,774,888,179],(function(){return t=74295,e(e.s=t);var t}));var t=e.O();_N_E=t}]);